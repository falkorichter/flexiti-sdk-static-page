<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        function sendMessageToFlexiti(message) {
            window.parent.postMessage(message)
        }
        function sendSuccessMessageToFlexiti() {
            successMessage = {
                eventType: "flx-success", 
                eventData: {
                    action: "purchase", 
                    verified: true, 
                    widget_session_id: "F1FAC6E0-76EE-4065-8104-0A165BB30955"
                } 
            }
            sendMessageToFlexiti(successMessage)
        }
        function sendOnNeedsLinkCardMessageToFlexiti() {
            successMessage = {
                eventType: "flx-success", 
                eventData: {
                    action: "purchase"
                } 
            }
            sendMessageToFlexiti(successMessage)
        }
        function sendNeedsActivationMessageToFlexiti() {
            successMessage = {
                eventType: "flx-success", 
                eventData: {
                    action: "activation"
                } 
            }
            sendMessageToFlexiti(successMessage)
        }
        function sendCancelMessageToFlexiti() {
            successMessage = {
                eventType: "flx-cancel" 
            }
            sendMessageToFlexiti(successMessage)
        }
        
    </script>
</head>
<body>
<div style="max-width:960px; margin: auto; text-align:center;">
    <h1>Flexiti static testing</h1>
    <p>This sample has been built with the information from the <a href="https://flexiti.atlassian.net/wiki/spaces/FDP/pages/149749812/Flexiti+Widget+Communication+Events">Flexiti documentation</a>. It sends messages via <i>window.parent.postMessage(message)</i>.</p>
    <div style="margin-top: 50px; width:100%">
        <button id="changeColor" style="width:100%" type="button" onclick="this.style.backgroundColor='red'">Change color</button>
    </div>
    <div style="margin-top: 50px; width:100%">
        <button type="button" style="width:100%" onclick="sendSuccessMessageToFlexiti()">Send success to JS bridge</button>
    </div>
    <div style="margin-top: 50px; width:100%">
        <button type="button" style="width:100%" onclick="sendOnNeedsLinkCardMessageToFlexiti()">Send onNeedsLinkCard to JS bridge</button>
    </div>
    <div style="margin-top: 50px; width:100%">
        <button type="button" style="width:100%" onclick="sendCancelMessageToFlexiti()">Send cancel to JS bridge</button>
    </div>
    <div style="margin-top: 50px; width:100%">
        <button type="button" style="width:100%" onclick="sendNeedsActivationMessageToFlexiti()">Send needsActivation to JS bridge</button>
    </div>
</div>
</body>
</html>
